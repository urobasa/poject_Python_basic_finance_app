{% extends 'base.html' %}
{% block title %}–ö–∞—Ç–µ–≥–æ—Ä–∏–∏{% endblock %}

{% block content %}
<h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-warning">{{ messages[0] }}</div>
  {% endif %}
{% endwith %}

<table class="table table-bordered">
  <thead>
    <tr>
      <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <th>–¢–∏–ø</th>
      <th>–†–æ–¥–∏—Ç–µ–ª—å</th>
      <th>–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody>
    {% for cat in categories %}
    <tr>
      <td>{{ cat.name }}</td>
      <td>{% if cat.type == 'income' %}–î–æ—Ö–æ–¥{% else %}–†–∞—Å—Ö–æ–¥{% endif %}</td>
      <td>{{ cat.parent.name if cat.parent else '‚Äî' }}</td>
      <td>
        <a href="{{ url_for('categories.edit_category_view', category_id=cat.id) }}"
           class="btn btn-sm btn-primary">‚úèÔ∏è</a>

        <a href="{{ url_for('categories.confirm_delete_category', category_id=cat.id) }}"
           class="btn btn-sm btn-danger">üóë</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<a href="{{ url_for('categories.create_category_view') }}" class="btn btn-success">
  ‚ûï –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
</a>
{% endblock %}
